webpackJsonp([30],{Oujh:function(t,a){},yV4W:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=s("FJTA"),e=s("tHn/"),r={name:"CertDetail",components:{LockTag:i.a,FileView:e.a},data:function(){return{certMain:{},certDtlVOList:[],phid:this.$route.query.phid,fileList:[]}},created:function(){console.log("CertDetail-render"),this.queryCurrent(),this.queryFile()},methods:{viewFile:function(){this.$refs.fileView.open(this.fileList)},toPath:function(t){this.$router.push(t)},backHandler:function(){this.$router.history.go(-1)},queryCurrent:function(){var t=this;this.$http.get("villageapp/cert/findCert/"+this.$route.query.phid,{}).then(function(a){t.certMain=a.data,t.certDtlVOList=a.data.certDtlVOList})},queryFile:function(){var t=this;this.loading=!0,this.$http.postFormData("villageapp/cert/findCertFile",[this.$route.query.phid]).then(function(a){var s=[],i=a.data||{};for(var e in i)s=s.concat(i[e]||[]);t.fileList=s})}}},n=s("W5g0");var c=function(t){s("Oujh")},l=Object(n.a)(r,function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"page-cert-detail"},[s("van-nav-bar",{attrs:{title:"凭证详情","left-arrow":""},on:{"click-left":t.backHandler}}),t._v(" "),s("div",{staticClass:"cert-content"},[s("div",{staticClass:"app-card-block bottom"},[s("div",{staticClass:"card-title"},[t._v(t._s(t.certMain.certTypeName)+"-"+t._s(t.certMain.certNo))]),t._v(" "),s("div",{staticClass:"c-d-t"},[s("van-row",{staticClass:"c-d-t-r"},[s("van-col",{attrs:{span:"12"}},[s("span",{staticClass:"sub-text"},[t._v("\n              附件：\n              "),t.certMain.attachNum&&"0"!==t.certMain.attachNum?[s("span",{on:{click:t.viewFile}},[s("span",[t._v(t._s(t.certMain.attachNum))]),t._v(" "),s("i",{staticClass:"fa fa-paperclip",attrs:{"aria-hidden":"true"}})])]:s("span",[t._v("0")])],2)]),t._v(" "),s("van-col",{attrs:{span:"12"}},[s("span",{staticClass:"sub-text"},[t._v(t._s(t.certMain.certDate))])])],1),t._v(" "),s("van-row",[s("van-col",{attrs:{span:"12"}},[s("span",{staticClass:"sub-text"},[t._v("制单人："+t._s(t.certMain.phCreator))])]),t._v(" "),s("van-col",{attrs:{span:"12"}},[s("span",{staticClass:"sub-text"},[t._v("审核人："+t._s(t.certMain.verifyName))])])],1)],1),t._v(" "),s("lock-tag"),t._v(" "),s("lock-tag")],1),t._v(" "),t._l(t.certDtlVOList,function(a){return s("div",{key:a.phid,staticClass:"app-card-block both"},[s("div",{staticClass:"card-title"},[t._v(t._s(a.digest))]),t._v(" "),s("div",{staticClass:"detail-card"},[s("van-row",[s("van-col",{attrs:{span:"12"}},[s("div",{staticClass:"left ellipsis-text"},[t._v(t._s(a.subCode)+t._s(a.subName))])]),t._v(" "),s("van-col",{attrs:{span:"12"}},[a.debit>0?s("div",{staticClass:"right"},[t._v(t._s(t.$formatMoney(a.debit)))]):t._e(),t._v(" "),a.lender>0?s("div",{staticClass:"right"},[t._v(t._s(t.$formatMoney(a.lender)))]):t._e()])],1),t._v(" "),a.debit>0?s("div",{staticClass:"tag-icon blue"},[t._v("借")]):t._e(),t._v(" "),a.lender>0?s("div",{staticClass:"tag-icon red"},[t._v("贷")]):t._e()],1),t._v(" "),t._l(a.hsCertDtlAstList,function(a){return s("div",{key:a.phid},[s("div",{staticClass:"detail-card"},[s("van-row",[s("van-col",{attrs:{span:"12"}},[s("div",{staticClass:"left ellipsis-text"},[t._v(t._s(a.astName))])]),t._v(" "),s("van-col",{attrs:{span:"12"}},[s("div",{staticClass:"right"},[t._v(t._s(t.$formatMoney(a.money)))])])],1)],1)])}),t._v(" "),s("lock-tag"),t._v(" "),s("lock-tag")],2)}),t._v(" "),s("div",{staticClass:"app-card-block top"},[s("div",{staticClass:"card-title"},[t._v("总计：")]),t._v(" "),s("div",{staticClass:"detail-card large"},[s("div",{staticClass:"item"},[s("van-row",[s("van-col",{attrs:{span:"12"}},[s("div",{staticClass:"left"},[t._v("合计")])]),t._v(" "),s("van-col",{attrs:{span:"12"}},[s("div",{staticClass:"right"},[t._v(t._s(t.$formatMoney(t.certMain.money)))])])],1),t._v(" "),s("div",{staticClass:"tag-icon blue"},[t._v("借")])],1),t._v(" "),s("div",{staticClass:"item"},[s("van-row",[s("van-col",{attrs:{span:"12"}}),t._v(" "),s("van-col",{attrs:{span:"12"}},[s("div",{staticClass:"right"},[t._v(t._s(t.$formatMoney(t.certMain.money)))])])],1),t._v(" "),s("div",{staticClass:"tag-icon red"},[t._v("贷")])],1)])])],2),t._v(" "),s("file-view",{ref:"fileView"})],1)},[],!1,c,"data-v-61912ab4",null);a.default=l.exports}});