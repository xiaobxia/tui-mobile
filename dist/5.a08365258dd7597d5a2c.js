webpackJsonp([5],{"2Qt8":function(e,n){},"3ICL":function(e,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t,o,r,a,s=i("HRnp"),c=i("cXi5"),u=i("A29K"),l=i("t4fs"),d=i("IFrb"),f=i("m+5q"),p=i.n(f),g=i("le8P"),v=i.n(g),h=i("NwOa"),m=i.n(h);function k(e){return"undefined"===e}function I(){return!k(typeof my)&&null!==my&&!k(typeof my.alert)}(o=t||(t={})).CANCEL="-1",o.SUCCESS="0",o.API_UNDEFINED="1",o.INVALID_PARAMS="2",o.UNKNOWN_ERROR="3",o.UNAUTHORIZED_CALL="4",o.WRONG_CORP_ID="5",o.CREATE_CHAT_FAILED="6",o.UNAUTHORIZED_API="7",o.INVALID_CORP_ID="8",o.SERVER_RESPONSE_ERROR="9",o.WRONG_DEVICE_INFO="10",o.UPLOAD_FAIL="11",o.PROCESS_FAIL="12",o.DUPLICATED_CALL="13",o.TOO_LARGE_PIC="14",o.REQUEST_REJECT_OR_INSECURE_REQUEST="15",o.PC_NOT_ALLOWED_TO_OPEN_SIDE_PANE_OR_MODAL="21",o.PC_CLOSE_SIDE_PANE_OR_MODAL="22",o.UNAUTHORIZED_PARAMS="23",o.GESTURE_PASSWORD_DOES_NOT_EXIST="24",o.NETWORK_ERROR="25",function(e){e.MOBILE="mobile",e.PC="pc",e.MINI_APP="mini",e.UNKNOWN="unknown"}(r||(r={})),function(e){e.UPDATE_NETWORK_STATUS="DINGGOV_ON_NETWORK_TYPE_CHANGED",e.UPDATE_LOCATION="DINGGOV_GEO_LOCATION_UPDATE",e.UPDATE_TRACE="DINGGOV_TRACE_UPDATE",e.ON_SHAKE="onShake"}(a||(a={}));var w=function(){function e(){this.readyFnStack=[],this.generalEventCallbackStack={},this.apiList={},this.continuousCallbackStack={},this.isH5Mobile=null,this.appType=null,this.aliBridge=window&&window.navigator&&window.AlipayJSBridge,this.isReady=!1,this.init()}var n=e.prototype;return n.init=function(){var e=this,n=this.getAppType();n===r.PC&&window.dingtalk&&!window.dingtalk.isRegister&&(window.dingtalk.isRegister=!0,window.dingtalk.callbackStack={},window.dingtalk.event.register(function(n,i){if(e.continuousCallbackStack[n])e.continuousCallbackStack[n](i);else if(i){var t=""+i.msgId;"openapi.event.emit"===n?(console.log("dingtalk receive event:",i,"identifer is",t),window.dingtalk.callbackStack[t]&&(window.dingtalk.callbackStack[t](i),delete window.dingtalk.callbackStack[t])):"im.fileTask.addNewTask"===n||"im.fileTask.updateTask"===n?(i.msgId||i.taskId)&&"function"==typeof e.continuousCallbackStack[i.msgId||i.taskId]&&e.continuousCallbackStack[i.msgId||i.taskId](n,i):e.generalEventCallbackStack[n]&&e.generalEventCallbackStack[n].forEach(function(n){n.call(e,i)})}})),n===r.MOBILE?window.AlipayJSBridge?this.execReadyFn():document.addEventListener("AlipayJSBridgeReady",function(){e.execReadyFn.call(e)},!1):setTimeout(function(){e.execReadyFn()})},n.execReadyFn=function(){this.isReady=!0;for(var e=this.readyFnStack.shift();e;)e&&e(this),e=this.readyFnStack.shift()},n.onReady=function(e){this.isReady?e&&e(this):this.readyFnStack.push(e)},n.setCurrentInvoker=function(e){this.currentInvoker=e},n.getCurrentInvoker=function(){return this.currentInvoker},n.getBridge=function(){return this.aliBridge},n.getAppType=function(){return this.appType||(this.isMobile()?this.appType=r.MOBILE:window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("dingtalk-win")>=0?this.appType=r.PC:I()?this.appType=r.MINI_APP:(console.warn("检测到页面在非政务钉钉客户端中打开，JSAPI 调用可能不会生效！"),this.appType=r.UNKNOWN)),this.appType},n.isMobile=function(){if(null!==this.isH5Mobile)return this.isH5Mobile;var e=window&&window.navigator&&window.navigator.userAgent||"";return e&&e.indexOf("dingtalk-win")>=0?(this.isH5Mobile=!1,!1):!(!e||!e.includes("mPaaSClient")&&!e.includes("Nebula")||(this.isH5Mobile=!0,0))},n.registerEvent=function(e,n){var i=this;if("function"==typeof n)return this.getAppType()===r.PC?(this.generalEventCallbackStack[e]||(this.generalEventCallbackStack[e]=[]),this.generalEventCallbackStack[e].push(n),function(){var t=i.generalEventCallbackStack[e].findIndex(function(e){return e===n});i.generalEventCallbackStack[e].splice(t,1)}):this.getAppType()===r.MOBILE?(document.addEventListener(e,n,!1),function(){document.removeEventListener(e,n)}):void 0;console.error("callback 参数应该为函数")},n.registerClientAPI=function(e,n){this.apiList[e]=n},n.registerAPI=function(e,n){if(this.isMobile(),"object"==typeof n){var i=n,t=this.getAppType();this.registerClientAPI(e,i[t])}else this.registerClientAPI(e,n)},n.invokeMiniApp=function(){var e=v()(m.a.mark(function e(n,i){var t=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===i&&(i={}),e.abrupt("return",new Promise(function(e,o){i=p()({_apiName:n},i);var r=t.apiList[n];if(!r)return console.warn("API: "+n+"，未注册"),o("API: "+n+"，未注册");"function"!=typeof r?my.call(n,i,function(n){t.handleBridgeResponse(n,e,o)}):r.call(null,i,{context:my,resolve:e,reject:o,methodName:n})}));case 2:case"end":return e.stop()}},e)}));return function(n,i){return e.apply(this,arguments)}}(),n.invokeMobile=function(){var e=v()(m.a.mark(function e(n,i){var t=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===i&&(i={}),e.abrupt("return",new Promise(function(e,o){i=p()({_apiName:n},i);var r=t.apiList[n];if(!r)return console.warn("API: "+n+"，未注册"),o("API: "+n+"，未注册");"function"!=typeof r?AlipayJSBridge.call(n,i,function(n){t.handleBridgeResponse(n,e,o)}):r.call(null,i,{context:AlipayJSBridge,resolve:e,reject:o,methodName:n})}));case 2:case"end":return e.stop()}},e)}));return function(n,i){return e.apply(this,arguments)}}(),n.findFitMsgId=function(e){var n,i;return null!==(n=window.dingtalk)&&void 0!==n&&null!==(i=n.callbackStack)&&void 0!==i&&i[e]?this.findFitMsgId(e+1):e},n.invokePC=function(){var e=v()(m.a.mark(function e(n,i,t){var o=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===i&&(i={}),void 0===t&&(t={msgId:1}),e.abrupt("return",new Promise(function(e,r){try{i=p()({_apiName:n},i);var a=o.findFitMsgId(Date.now()),s=t.pcClientAPIName||n;if(t.msgId=a,!window.dingtalk)return Promise.reject(new Error("请在钉钉容器内使用 JSAPI"));o.apiList[n]?o.apiList[n].call(null,i,t):(console.info("invoke bridge api:",s,a,i),window.dingtalk.platform.invokeAPI(a,s,i)),window.dingtalk.callbackStack[""+a]=function(n){var i=n;return i.body?e(i.body):e(i)}}catch(e){r(e)}}));case 3:case"end":return e.stop()}},e)}));return function(n,i,t){return e.apply(this,arguments)}}(),n.handleBridgeResponse=function(e,n,i){e&&e.errorCode?e.errorCode===t.SUCCESS?n(e.result):(console.warn("API 调用失败",e),i(e)):e&&"false"===e.success?i(e):n(e)},n.invoke=function(){var e=v()(m.a.mark(function e(n,i,t){var o;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===i&&(i={}),(o=this.getAppType())!==r.MOBILE){e.next=8;break}if(this.isReady){e.next=5;break}return e.abrupt("return",Promise.reject("错误：请在 dd.ready() 回调中使用 JSAPI，当前调用函数："+n));case 5:return e.abrupt("return",this.invokeMobile(n,i));case 8:if(o!==r.PC){e.next=12;break}return e.abrupt("return",this.invokePC(n,i,t));case 12:if(o!==r.MINI_APP){e.next=16;break}return e.abrupt("return",this.invokeMiniApp(n,i));case 16:return e.abrupt("return",Promise.reject("错误：未在钉钉运行环境下调用该 API，无效，请检查运行环境"));case 17:case"end":return e.stop()}},e,this)}));return function(n,i,t){return e.apply(this,arguments)}}(),n.existEventListener=function(e){return!!this.continuousCallbackStack[e]},n.registerContinuesEvent=function(e,n){this.continuousCallbackStack[e]=n},n.removeContinuesEvent=function(e){this.existEventListener(e)&&(this.continuousCallbackStack[e](),delete this.continuousCallbackStack[e])},e}();I()||(window._invoker=window._invoker||new w);var P=I()?new w:window._invoker;function A(e,n){var i=n.resolve,t=n.context;t&&t.call("alert",e,function(){i()})}function b(e){return P.invoke("alert",e)}function y(e){return P.invoke("authConfig",e)}function S(e){return P.invoke("callPhone",e)}function C(){return P.invoke("version")}P.registerAPI("alert",{mini:A,mobile:A}),b.version={android:"1.3.2",ios:"1.3.2"},P.registerAPI("authConfig",{mini:!0,mobile:!0}),y.version={android:"1.2.0",ios:"1.2.0",pc:"1.2.0"},P.registerAPI("callPhone",{mini:!0,mobile:!0}),S.version={android:"1.1.0",ios:"1.1.0"},P.registerAPI("version",{mini:!0,mobile:!0});var T=1,E=-1,x=0;function R(e,n){return"number"!=typeof e&&(e=0),"number"!=typeof n&&(n=0),e>n?T:e<n?E:x}var L,_=function(e,n){void 0===e&&(e=""),void 0===n&&(n="");var i=/^\d+(\.\d+){2,3}$/;if(!i.test(e)||!i.test(n))throw new Error("请传入正确的版本号格式");for(var t=(""+e).split(".").map(function(e){return parseInt(e,10)}),o=(""+n).split(".").map(function(e){return parseInt(e,10)}),r=Math.max(t.length,o.length),a=0,s=0;s<r&&(a=R(t[s],o[s]))===x;s++);return a},O=navigator&&navigator.userAgent||"",N=function(){return O.indexOf("Android")>-1||O.indexOf("Adr")>-1},M=function(){return!!O.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)},D=function(){return/(windows)/i.test(navigator.userAgent)};function F(){return P.invoke("checkVPNAppInstalled")}function B(){return P.invoke("checkVPNAppOnline")}function W(e){return P.invoke("chooseContact",e)}function U(e,n){var i=n.resolve,o=n.reject,r=n.context;r&&r.call("chooseContactWithComplexPicker",e,function(n){n.error&&n.error.toString()===t.API_UNDEFINED?r.call("complexPicker",e,function(e){P.handleBridgeResponse(e,i,o)}):P.handleBridgeResponse(n,i,o)})}function V(e){return P.invoke("chooseContactWithComplexPicker",e)}function z(e){return P.invoke("chooseDateRangeWithCalendar",e)}function j(e){return P.invoke("chooseDayWithCalendar",e)}function G(e){return P.invoke("chooseDepartments",e)}function H(e){return P.invoke("chooseFile",e)}function Q(e){return P.invoke("chooseHalfDayWithCalendar",e)}function J(e){return P.invoke("dgChooseImage",p()({},e,{_apiName:"chooseImage"}))}function K(e){return new Promise(function(n,i){my.chooseImage(p()({},e,{success:function(e){n(e)},fail:function(e){i(e)}}))})}function $(){return P.invoke("chooseSpaceDir")}function Y(e){return P.invoke("chooseTimeWithCalendar",e)}function q(e){return P.invoke("chooseVideo",e)}function Z(e,n){var i=n.resolve,t=n.reject,o=n.context;o&&o.call("popWindow",e,function(e){P.handleBridgeResponse(e,i,t)})}function X(e){return P.invoke("closePage",p()({},e,{_apiName:"closePage"}))}function ee(e){return P.invoke("confirm",e)}function ne(e){return P.invoke("copyToClipboard",e)}function ie(e){return P.invoke("createChatGroup",e)}function te(e){return P.invoke("createDing",e)}function oe(e){return P.invoke("createVideoMeeting",e)}function re(e){return P.invoke("dealWithBackAction",e)}function ae(){return P.invoke("disablePullToRefresh",{_apiName:"disablePullToRefresh"})}function se(){return P.invoke("disableWebviewBounce",{_apiName:"disableWebviewBounce"})}function ce(e){return P.invoke("downloadAudio",e)}P.registerAPI("checkVPNAppInstalled",{mini:!0,mobile:!0}),F.version={android:"1.6.0",ios:"1.6.0"},P.registerAPI("checkVPNAppOnline",{mini:!0,mobile:!0}),B.version={android:"1.6.0",ios:"1.6.0"},P.registerAPI("chooseContact",{pc:function(e,n){window.dingtalk.platform.invokeAPI(n.msgId,"biz.contact.choose",e)}}),W.version={pc:"1.1.0"},P.registerAPI("chooseContactWithComplexPicker",{mini:U,mobile:U,pc:function(e,n){window.dingtalk.platform.invokeAPI(n.msgId,"biz.contact.complexPicker",e)}}),V.version={android:"1.1.0",ios:"1.1.0",pc:"1.6.2"},P.registerAPI("chooseDateRangeWithCalendar",{mini:!0,mobile:!0}),z.version={android:"1.3.10",ios:"1.3.10"},P.registerAPI("chooseDayWithCalendar",{mini:!0,mobile:!0}),j.version={android:"1.3.10",ios:"1.3.10"},P.registerAPI("chooseDepartments",{mini:!0,mobile:!0,pc:function(e,n){window.dingtalk.platform.invokeAPI(n.msgId,"biz.contact.departmentsPicker",e)}}),G.version={android:"1.1.0",ios:"1.1.0",pc:"1.6.2"},P.registerAPI("chooseFile",{mini:!0,mobile:!0,pc:function(e,n){window.dingtalk.platform.invokeAPI(n.msgId,"biz.util.chooseFile",e)}}),H.version={android:"1.3.2",ios:"1.3.2",pc:"1.3.6"},P.registerAPI("chooseHalfDayWithCalendar",{mini:!0,mobile:!0}),Q.version={android:"1.3.10",ios:"1.3.10"},function(e){e[e.image=0]="image",e[e.video=1]="video"}(L||(L={})),P.registerAPI("dgChooseImage",{mini:!0,mobile:!0,pc:function(e,n){window.dingtalk.platform.invokeAPI(n.msgId,"biz.util.dgChooseImage",e)}}),J.version={android:"1.3.2",ios:"1.3.2",pc:"1.3.6"},P.registerAPI("chooseImage",{mini:!0}),K.version={android:"1.6.2",ios:"1.6.2"},P.registerAPI("chooseSpaceDir",{mini:!0,mobile:!0}),$.version={android:"1.6.0",ios:"1.6.0"},P.registerAPI("chooseTimeWithCalendar",{mini:!0,mobile:!0}),Y.version={android:"1.3.10",ios:"1.3.10"},P.registerAPI("chooseVideo",{mini:!0,mobile:!0}),q.version={android:"1.6.2",ios:"1.6.2"},P.registerAPI("closePage",{mini:Z,mobile:Z,pc:function(e,n){window.dingtalk.platform.invokeAPI(n.msgId,"biz.navigation.quit",e)}}),X.version={android:"1.2.0",ios:"1.2.0",pc:"1.2.0"},P.registerAPI("confirm",{mini:function(e,n){var i=n.resolve,o=n.reject,r=n.context,a={message:e.message,title:e.title,okButton:e.buttonLabels[0],cancelButton:e.buttonLabels[1]};r&&r.call("confirm",a,function(e){var n={errorCode:t.SUCCESS,result:{buttonIndex:e.ok?0:1}};P.handleBridgeResponse(n,i,o)})},mobile:function(e,n){var i=n.resolve,o=n.reject,r=n.context,a={message:e.message,title:e.title,okButton:e.buttonLabels[0],cancelButton:e.buttonLabels[1]};r&&r.call("confirm",a,function(e){var n={errorCode:t.SUCCESS,result:{buttonIndex:e.ok?0:1}};P.handleBridgeResponse(n,i,o)})},pc:function(e,n){window.dingtalk.platform.invokeAPI(n.msgId,"device.notification.confirm",e)}}),ee.version={android:"1.3.2",ios:"1.3.2",pc:"1.3.2"},P.registerAPI("copyToClipboard",{mini:!0,mobile:!0}),ne.version={android:"1.3.2",ios:"1.3.2"},P.registerAPI("createChatGroup",{mini:!0,mobile:!0}),ie.version={android:"1.3.0",ios:"1.3.0",pc:"1.3.0"},P.registerAPI("createDing",{mini:!0,mobile:!0,pc:function(e,n){window.dingtalk.platform.invokeAPI(n.msgId,"biz.ding.create",e)}}),te.version={android:"1.3.9",ios:"1.3.9",pc:"1.3.9"},P.registerAPI("createVideoMeeting",{mini:!0,mobile:!0,pc:function(e,n){window.dingtalk.platform.invokeAPI(n.msgId,"biz.meeting.create",p()({isVideoConference:!0},e))}}),oe.version={android:"1.3.1.1",ios:"1.3.1.1",pc:"1.9.4"},P.registerAPI("dealWithBackAction",{mobile:!0}),re.version={android:"1.2.0.10"},P.registerAPI("disablePullToRefresh",{mobile:function(e,n){var i=n.resolve,t=n.context;t&&t.call("pullRefresh",{pullRefresh:!1},function(){i()})}}),ae.version={android:"1.3.0",ios:"1.3.0"},P.registerAPI("disableWebviewBounce",{mobile:function(e,n){var i=n.resolve,t=n.context;t&&t.call("bounce",{enable:!1},function(e){i(e)})}}),se.version={ios:"1.3.0"},P.registerAPI("downloadAudio",{mini:!0,mobile:!0}),ce.version={android:"1.3.0",ios:"1.3.0"};function ue(e){return P.invoke("downloadFile",e)}P.registerAPI("downloadFile",{mini:function(e,n){var i=n.resolve,t=n.reject,o=n.context;o&&o.call("downloadFile",e,function(e){e.error?t(e):i(e)})},pc:function(e,n){window.dingtalk.platform.invokeAPI(n.msgId,"biz.util.downloadFile",e),P.registerContinuesEvent(n.msgId,function(i,t){"im.fileTask.addNewTask"===i&&(P.removeContinuesEvent(n.msgId),P.registerContinuesEvent(t.taskId,function(n,i){if("im.fileTask.updateTask"===n){var t=i.doneSize,o=i.fileName,r=i.filePath,a=i.fileSize,s=i.speed;e.onProgress({doneSize:t,fileName:o,filePath:r,fileSize:a,speed:s}),1===i.status&&P.removeContinuesEvent(i.taskId)}}))})}}),ue.version={pc:"1.3.5"};var le=ue;function de(){return P.invoke("enablePullToRefresh",{_apiName:"enablePullToRefresh"})}function fe(){return P.invoke("enableVpn")}function pe(){return P.invoke("enableWebviewBounce",{_apiName:"enableWebviewBounce"})}function ge(e){return P.invoke("exclusiveInvoke",e)}function ve(e){return P.invoke("getAppInstallStatus",e)}function he(e){return P.invoke("getAuthCode",e)}function me(){return P.invoke("getConfig",{})}function ke(e){return P.invoke("getGeolocation",e)}function Ie(e){return P.invoke("getGeolocationStatus",e)}function we(){return P.invoke("getHotspotInfo")}function Pe(){return P.invoke("getLanguageSetting")}function Ae(){return P.invoke("getLoginUser")}function be(){return P.invoke("getNetworkType")}function ye(){return P.invoke("getPhoneInfo")}function Se(e){return P.invoke("getStorageItem",e)}function Ce(){return P.invoke("getToClipboard")}function Te(e){return P.invoke("getTraceStatus",e)}function Ee(){return P.invoke("getUUID")}P.registerAPI("enablePullToRefresh",{mobile:function(e,n){var i=n.resolve,t=n.context;t&&t.call("pullRefresh",{pullRefresh:!0},function(){i()})}}),de.version={android:"1.3.0",ios:"1.3.0"},P.registerAPI("enableVpn",{mini:!0,mobile:!0}),fe.version={android:"1.1.0",ios:"1.1.0"},P.registerAPI("enableWebviewBounce",{mobile:function(e,n){var i=n.resolve,t=n.context;t&&t.call("bounce",{enable:!0},function(e){i(e)})}}),pe.version={ios:"1.3.0"},P.registerAPI("exclusiveInvoke",{mini:!0,mobile:!0}),ge.version={ios:"1.9.5",android:"1.9.5"},P.registerAPI("getAppInstallStatus",{mini:!0,mobile:!0}),ve.version={android:"2.1.10",ios:"2.1.10"},P.registerAPI("getAuthCode",{pc:function(e,n){window.dingtalk.platform.invokeAPI(n.msgId,"runtime.permission.requestAuthCode",e)},mobile:!0,mini:!0}),he.version={android:"1.0.0",ios:"1.0.0",pc:"1.0.0"},P.registerAPI("getConfig",{mobile:!0,mini:!0,pc:function(e,n){window.dingtalk.platform.invokeAPI(n.msgId,"getConfig",e)}}),me.version={android:"1.3.2",ios:"1.3.2",pc:"1.3.2"},P.registerAPI("getGeolocation",{mini:!0,mobile:!0}),ke.version={android:"1.2.0",ios:"1.2.0"},P.registerAPI("getGeolocationStatus",{mobile:!0}),Ie.version={android:"1.6.2",ios:"1.6.2"},P.registerAPI("getHotspotInfo",{mobile:!0,mini:!0}),we.version={android:"1.3.5",ios:"1.3.5"},P.registerAPI("getLanguageSetting",{mobile:!0,mini:!0,pc:function(e,n){window.dingtalk.platform.invokeAPI(n.msgId,"getLanguageSetting",e)}}),Pe.version={android:"1.4.0",ios:"1.4.0",pc:"1.4.0"},P.registerAPI("getLoginUser",{mobile:!0,mini:!0}),Ae.version={android:"1.1.0",ios:"1.1.0"},P.registerAPI("getNetworkType",{mobile:!0,mini:!0}),be.version={android:"1.3.0",ios:"1.3.0"},P.registerAPI("getPhoneInfo",{mini:!0,mobile:!0}),ye.version={android:"1.3.5",ios:"1.3.5"},P.registerAPI("getStorageItem",{mobile:!0,mini:!0}),Se.version={android:"1.3.1.1",ios:"1.3.1.1"},P.registerAPI("getToClipboard",{mini:!0,mobile:!0}),Ce.version={android:"2.3.1",ios:"2.3.1"},P.registerAPI("getTraceStatus",{mobile:!0}),Te.version={android:"1.3.4",ios:"1.3.4"},P.registerAPI("getUUID",{mobile:!0,mini:!0}),Ee.version={android:"1.3.5",ios:"1.3.5"};var xe,Re,Le,_e,Oe=/TaurusApp\((\S*)\/(\S*)\)/;function Ne(){var e=P.getAppType();return e===r.PC||e===r.MOBILE?function(){if(window&&window.navigator){var e=window.navigator.userAgent;if(e){var n=e.match(Oe);return Promise.resolve({group:"TaurusApp",name:n[1],version:n[2]})}return Promise.reject("调用错误：无法检测到当下环境的 userAgent，请确保在政务钉钉客户端 H5 容器下调用。")}}():e===r.MINI_APP?P.invoke("getUserAgent",{}):void 0}P.registerAPI("getUserAgent",{mobile:!0,mini:!0,pc:!0}),Ne.version={android:"1.6.2",ios:"1.6.2",pc:"1.6.2"},(_e=xe||(xe={})).off="0",_e.on="1",function(e){e[e.off=0]="off",e[e.on=1]="on"}(Re||(Re={})),function(e){e[e.name=1]="name",e[e.id=2]="id",e[e.custom=3]="custom"}(Le||(Le={})),P.registerAPI("getWaterMarkConfig",{pc:function(e,n){window.dingtalk.platform.invokeAPI(n.msgId,"getWaterMarkConfig",e)},mini:!0,mobile:!0});var Me,De="h5Page",Fe=[De,"meetingDetail"],Be=!k(typeof my)&&null!==my&&!k(typeof my.alert);Be&&(Me=my.getSystemInfoSync());var We,Ue=Be?Me.platform:navigator.userAgent,Ve=Be?Me.screenWidth:window.screen.width,ze=(Be?Me.pixelRatio:window.devicePixelRatio)||2,je=Be?Promise.resolve(""):"",Ge=function(){function e(e){void 0===e&&(e={}),this.options=p()({texts:[""],width:50,height:50,textRotate:-10,textColor:"#000000",textFont:"PingFangSC-Regular,system-ui,sans-serif",fontStyle:"normal",opacity:90,canvas:[],fontSize:14},e),this.options.width*=this.options.fontSize/12,this.options.height*=this.options.fontSize/12,this.options.deg=this.options.textRotate*Math.PI/180,this.options.cosDeg=Math.cos(this.options.deg),this.options.absSinDeg=Math.abs(Math.sin(this.options.deg))}var n=e.prototype;return n.init=function(){var e=this,n=null,i=null;Be?i=my.createCanvasContext("canvasBg"):(n=this.createCanvas(),i=n.getContext("2d")),this.calcTextSize();var t=this.options,o=t.allItemsWidth,r=t.drawItems,a=t.height,s=t.containerComp,c=Math.ceil(Ve/o),u=new Array(c).fill(r).reduce(function(e,n){return e.concat(n)},[]),l=function(){e.setCanvasStyle(i),e.drawText(i,u),i.translate(0,a),e.drawText(i,u.reverse(),!0)};if(Be)return new Promise(function(e){s.setState({width:o*c,height:2*a},function(){setTimeout(function(){l(),i.draw(),e(i.toDataURL("image/png"))},0)})});n.width=o*c,n.height=2*a,n.style.display="none",l();var d=n.toDataURL("image/png");return this.destroy(),d},n.calcTextSize=function(){var e=0,n=0,i=this.options;i.drawItems=[].map.call(i.texts,function(t){var o,r,a,s;if(Be){for(var c=0,u=0;u<t.length;u+=1)c+=/[\uff00-\uffff]/.test(t[u])?1:.5;o=1.1*i.fontSize*c,r=1.2*i.fontSize}else{var l=(a='<span style="font:'+i.fontSize+"px "+i.textFont+';visibility:hidden;">'+t+"</span>",(s=document.createElement("div")).innerHTML=a.trim(),s.firstChild);document.body.appendChild(l),o=l.offsetWidth,r=l.offsetHeight,document.body.removeChild(l)}return e=Math.max(e,o),i.fontHeight||(i.fontHeight=r),n+=Math.ceil(i.cosDeg*(i.width<o?o:i.width)),{txt:t,width:o,height:r}}),e>i.width&&(i.width=e);var t=e*i.absSinDeg+i.fontHeight*i.cosDeg;t>i.height&&(i.height=t),i.maxItemWidth=e,i.allItemsWidth=n},n.setCanvasStyle=function(e){var n=this.options,i=n.deg,t=n.absSinDeg,o=n.height,r=n.fontHeight,a=n.fontStyle,s=n.fontSize,c=n.textFont,u=n.textColor,l=n.opacity;e.rotate(i);var d=t*(o-r);e.translate(-d,0),e.font=a+" "+s+"px "+c,e.fillStyle=u,e.textAlign="left",e.textBaseline="bottom",e.globalAlpha=l},n.drawText=function(e,n,i){void 0===i&&(i=!1);var t=this.options,o=t.maxItemWidth,r=t.width,a=t.height,s=t.deg,c=t.cosDeg,u=t.absSinDeg;n.forEach(function(n,t){var l=c*(o-n.width)/2,d=r*c*t,f=Math.abs(d*Math.tan(s))+a;e.fillText(n.txt,d+(i?c*(r-n.width)/2:l),f+(i?u*(r-n.width)/2:0))})},n.createCanvas=function(){var e=document.createElement("canvas");return this.options.canvas.push(e),e},n.destroy=function(){this.options.canvas.forEach(function(e){e.remove(),e=null})},e}();function He(e,n){if(void 0===e&&(e={}),void 0===n&&(n=De),!Fe.includes(n))throw new Error("第二个可选参数，仅能为“h5Page”或“meetingDetail”");try{return function(e,n){var i=JSON.parse(e),t=i.watermark||i;if(!t||"0"===String(t.watermarkStatus))return je;if(!Array.isArray(t.targetPages)||!t.targetPages.some(function(e){return e.name===n&&"1"===String(e.value)}))return je;var o=[];if(Array.isArray(t.contentType)){var r="";t.contentType.includes(1)&&(r+=t.userName+" "),t.contentType.includes(2)&&(r+=(t.account||"").slice(-4)),r&&o.push(r),t.contentType.includes(0)&&t.contentCustom&&o.push(t.contentCustom)}if(!o.length)return je;var a,s,c=/Android|Adr|SymbianOS|Windows\s*Phone|Mobile/.test(Ue),u=/iPhone|iPad|iPod|Mac\s*OS.*Mobile|iOS/.test(Ue),l="0"===String(t.watermarkShowDensity);return u?l?(a=114,s=66):(a=86,s=45):c?l?(a=47*ze,s=40*ze):(a=25*ze,s=25*ze):l?(a=300,s=126):(a=194,s=106),new Ge({containerComp:this,texts:o,width:a,height:s,textRotate:-10,textColor:{0:"#FF0000",1:"#000000",2:"#0000FF"}[t.fontColor]||"#000000",textFont:"PingFangSC-Regular,system-ui,sans-serif",fontStyle:"0"===String(t.fontStyle)?"normal":"bold",opacity:(120-parseInt(t.fontDiaphaneity,10))/100,fontSize:{0:12,1:16,2:28}[t.fontSize]||16}).init()}.call(this,JSON.stringify(e),n)}catch(e){throw e}}function Qe(e,n){return void 0===e&&(e=""),new Promise(function(i,t){var o;(o={pageInfo:e},P.invoke("getWaterMarkConfig",o)).then(function(e){try{var o=He(e,n);i(o)}catch(e){t(e)}})})}function Je(){return P.invoke("getWifiStatus")}function Ke(){return P.invoke("getWorkbenchContext")}function $e(){return P.invoke("h5PageBack",{_apiName:"goBack"})}function Ye(){return P.invoke("hideLoading")}function qe(){return P.invoke("hideOptionMenu")}function Ze(){return P.invoke("hideTitlebar")}function Xe(e){return P.invoke("isDownloadFileExist",e)}function en(e){return P.invoke("locateOnMap",e)}function nn(){return P.invoke("onAudioPlayEnd")}function tn(e){return P.invoke("onRecordAudioEnd",e)}function on(e){return P.invoke("openApp",e)}function rn(e){return P.invoke("openBrowser",e)}function an(e){return P.invoke("openChat",e)}function sn(e){return P.invoke("openDownloadFile",e)}function cn(e,n){var i=n.resolve,t=n.reject,o=n.context;C().then(function(n){var r=n.version,a=-1!==_(r,"1.6.2");o&&o.call(a?"openLink":"pushWindow",e,function(e){P.handleBridgeResponse(e,i,t)})})}function un(e){return P.invoke("openLink",e)}function ln(e){return P.invoke("openPage",e)}function dn(e){return P.invoke("dgOpenApp",p()({},e,{_apiName:"openSchemeUrl"}))}function fn(e){return P.invoke("openSlidePanel",e)}function pn(){return P.invoke("openWatermarkCamera")}function gn(e){return P.invoke("pauseAudio",e)}function vn(e){return P.invoke("pickChat",e)}function hn(e){return P.invoke("playAudio",e)}function mn(e){return P.invoke("previewDoc",e)}function kn(e){return P.invoke("previewImage",e)}function In(e){return P.invoke("printFile",e)}function wn(e){return P.invoke("printNativeLog",e)}function Pn(e,n){var i=n.resolve,o=n.reject,r=n.context,a={message:e.message,title:e.title,okButton:e.buttonLabels[0],cancelButton:e.buttonLabels[1]};r&&r.call("prompt",a,function(e){var n={errorCode:t.SUCCESS,result:{buttonIndex:e.ok?0:1,value:e.inputValue}};P.handleBridgeResponse(n,i,o)})}function An(e){return P.invoke("prompt",e)}function bn(e){return P.invoke("readImageToBase64",e)}function yn(e){return P.invoke("reduceImageSize",e)}function Sn(e){return P.invoke("removeStorageItem",e)}function Cn(e){return P.invoke("replacePage",e)}function Tn(){return P.invoke("resetView")}function En(e){return P.invoke("resumeAudio",e)}function xn(e){return P.invoke("rotateView",e)}function Rn(e){return P.invoke("scan",e)}function Ln(e){return P.invoke("searchOnMap",e)}function _n(e){return P.invoke("setNavIcon",e)}function On(e){return P.invoke("setNavLeftText",e)}function Nn(e){return P.invoke("setOptionMenu",e)}function Mn(e){return P.invoke("setStorageItem",e)}function Dn(e,n){var i=n.resolve,t=n.context;t&&t.call("setTitle",e,function(){i()})}function Fn(e){return P.invoke("setTitle",e)}function Bn(e){return P.invoke("shareFileToMessage",e)}function Wn(e){return P.invoke("shareImageToMessage",e)}function Un(e){return P.invoke("shareToMessage",e)}function Vn(){return P.invoke("shootVideo")}function zn(e){return P.invoke("showActionSheet",e)}function jn(e){return P.invoke("showCallMenu",e)}function Gn(e){return P.invoke("showDatePicker",e)}function Hn(e){return P.invoke("showDateTimePicker",e)}function Qn(e){return P.invoke("showExtendModal",e)}function Jn(e){return P.invoke("showHomeBottomTab",e)}function Kn(e){return P.invoke("showLoading",e)}function $n(e){return P.invoke("showModal",e)}function Yn(e){return P.invoke("showMultiSelect",e)}function qn(e){return P.invoke("showOnMap",e)}function Zn(){return P.invoke("showOptionMenu")}function Xn(e){return P.invoke("showPlainInputUponKeyboard",e)}function ei(e){return P.invoke("showQuickCallMenu",e)}function ni(e){return P.invoke("showSelect",e)}function ii(e){return P.invoke("showSignature",e)}function ti(e){return P.invoke("showSocialShare",e)}function oi(e){return P.invoke("showTimePicker",e)}function ri(){return P.invoke("showTitlebar")}function ai(e){return P.invoke("startFaceRecognition",e)}function si(e){return P.invoke("startGeolocation",e)}function ci(e,n){var i=n.resolve,o=n.reject,r=n.context,s=P.registerEvent(a.UPDATE_NETWORK_STATUS,function(n){var i=n.data;i.errorCode!==t.SUCCESS?e.onFail&&e.onFail(i):e.onSuccess&&e.onSuccess(i.result)});r&&r.call("startListenNetworkStatus",e,function(e){P.registerContinuesEvent(e.result.requestId,s),P.handleBridgeResponse(e,i,o)})}function ui(e){return P.invoke("startListenNetworkStatus",e)}function li(e){return P.invoke("startRecordAudio",e)}function di(e){return P.invoke("startTraceReport",e)}function fi(e){return P.invoke("startVPNApp",e)}function pi(e){return P.invoke("startWatchShake",e)}function gi(e){return P.invoke("stopAudio",e)}function vi(e){return P.invoke("stopGeolocation",e)}function hi(e,n){var i=n.resolve,t=n.reject,o=n.context;o&&o.call("stopListenNetworkStatus",e,function(n){P.removeContinuesEvent(e.requestId),P.handleBridgeResponse(n,i,t)})}function mi(e){return P.invoke("stopListenNetworkStatus",e)}function ki(){return P.invoke("stopPullToRefresh",{_apiName:"stopPullToRefresh"})}function Ii(e){return P.invoke("stopRecordAudio",e)}function wi(e){return P.invoke("stopTraceReport",e)}function Pi(e){return P.invoke("stopVPNApp",e)}function Ai(){return P.invoke("stopWatchShake")}function bi(e){return P.invoke("subscribe",e)}function yi(){return P.invoke("takePhoto")}function Si(e){return P.invoke("toast",e)}function Ci(){return P.invoke("unlockWithSecurityVerification")}function Ti(e){return P.invoke("unsubscribe",e)}function Ei(e){return P.invoke("dgUploadFile",p()({},e,{_apiName:"uploadFile"}))}function xi(e){return P.invoke("uploadFileByType",e)}function Ri(e){return new Promise(function(n,i){my.uploadFile(p()({},e,{success:function(e){n(e)},fail:function(e){i(e)}}))})}function Li(e){return P.invoke("uploadRemoteFileToDisk",e)}function _i(e){return P.invoke("ut",e)}function Oi(e){return P.invoke("vibrate",e)}Qe.version={android:"1.1.0",ios:"1.1.0",pc:"1.1.0"},P.registerAPI("getWifiStatus",{mobile:!0,mini:!0}),Je.version={android:"1.3.5",ios:"1.3.5"},P.registerAPI("getWorkbenchContext",{mini:!0,mobile:!0,pc:function(e,n){window.dingtalk.platform.invokeAPI(n.msgId,"getWorkbenchContext",e)}}),Ke.version={android:"2.1.10",ios:"2.1.10"},P.registerAPI("h5PageBack",{mobile:!0}),$e.version={android:"1.3.0",ios:"1.3.9"},P.registerAPI("hideLoading",{mini:!0,mobile:!0}),Ye.version={android:"1.3.2",ios:"1.3.2"},P.registerAPI("hideOptionMenu",{mobile:!0}),qe.version={android:"1.1.0",ios:"1.1.0"},P.registerAPI("hideTitlebar",{mini:!0,mobile:!0}),Ze.version={android:"2.1.0",ios:"2.1.0"},P.registerAPI("isDownloadFileExist",{pc:function(e,n){window.dingtalk.platform.invokeAPI(n.msgId,"biz.util.isLocalFileExist",e)}}),Xe.version={pc:"1.3.5"},P.registerAPI("locateOnMap",{mobile:!0,mini:!0}),en.version={android:"1.3.0",ios:"1.3.0"},P.registerAPI("onAudioPlayEnd",{mini:!0,mobile:!0}),nn.version={android:"1.6.2",ios:"1.6.2"},P.registerAPI("onRecordAudioEnd",{mini:!0,mobile:!0}),tn.version={android:"1.3.0",ios:"1.3.0"},P.registerAPI("openApp",{mini:!0,mobile:!0}),on.version={android:"1.3.2",ios:"1.3.2"},P.registerAPI("openBrowser",{mini:!0,mobile:!0}),rn.version={android:"1.2.3"},P.registerAPI("openChat",{mini:!0,mobile:!0,pc:function(e,n){window.dingtalk.platform.invokeAPI(n.msgId,"internal.chat.toConversation",{cid:e.chatId})}}),an.version={android:"1.2.0",ios:"1.2.0",pc:"1.2.0"},P.registerAPI("openDownloadFile",{pc:function(e,n){window.dingtalk.platform.invokeAPI(n.msgId,"biz.util.openLocalFile",e)}}),sn.version={pc:"1.3.5"},P.registerAPI("openLink",{mini:cn,mobile:cn,pc:function(e,n){window.dingtalk.platform.invokeAPI(n.msgId,"biz.util.openLink",e)}}),un.version={android:"1.2.0",ios:"1.2.0",pc:"1.2.0"},P.registerAPI("openPage",{mini:!0,mobile:!0}),ln.version={android:"1.1.0",ios:"1.1.0"},P.registerAPI("dgOpenApp",{mobile:!0,mini:!0}),dn.version={android:"1.3.1.1",ios:"1.3.1.1"},P.registerAPI("openSlidePanel",{pc:function(e,n){window.dingtalk.platform.invokeAPI(n.msgId,"biz.util.openSlidePanel",e)}}),fn.version={pc:"1.3.5"},P.registerAPI("openWatermarkCamera",{mobile:!0,mini:!0}),pn.version={android:"1.3.7",ios:"1.3.7"},P.registerAPI("pauseAudio",{mini:!0,mobile:!0}),gn.version={android:"1.3.0",ios:"1.3.0"},P.registerAPI("pickChat",{mini:!0,mobile:!0}),vn.version={android:"1.2.0",ios:"1.2.0"},P.registerAPI("pickChatByCorpId",{mini:!0,mobile:!0}),P.registerAPI("playAudio",{mini:!0,mobile:!0}),hn.version={android:"1.3.0",ios:"1.3.0"},P.registerAPI("previewDoc",{mini:!0,mobile:!0}),mn.version={android:"1.1.0",ios:"1.1.0"},P.registerAPI("previewImage",{mini:!0,mobile:!0,pc:function(e,n){window.dingtalk.platform.invokeAPI(n.msgId,"biz.util.previewImage",e)}}),kn.version={android:"1.2.0",ios:"1.2.0",pc:"1.2.0"},P.registerAPI("printFile",{mini:!0,mobile:!0}),In.version={android:"2.2.10"},P.registerAPI("printNativeLog",{mini:!0,mobile:!0}),wn.version={android:"1.9.4",ios:"1.9.4"},P.registerAPI("prompt",{mini:Pn,mobile:Pn,pc:function(e,n){window.dingtalk.platform.invokeAPI(n.msgId,"device.notification.prompt",e)}}),An.version={android:"1.3.2",ios:"1.3.2",pc:"1.3.2"},P.registerAPI("readImageToBase64",{mini:!0,mobile:!0,pc:function(e,n){window.dingtalk.platform.invokeAPI(n.msgId,"readImageToBase64",e)}}),bn.version={ios:"2.1.0",android:"2.1.0",pc:"2.1.0"},function(e){e[e.ADJUST_BY_NET=0]="ADJUST_BY_NET",e[e.LOW_QUALITY=1]="LOW_QUALITY",e[e.MID_QUALITY=2]="MID_QUALITY",e[e.HIGH_QUALITY=3]="HIGH_QUALITY",e[e.NOT_COMPRESSED=4]="NOT_COMPRESSED",e[e.CUSTOM=5]="CUSTOM"}(We||(We={})),P.registerAPI("reduceImageSize",{mini:!0,mobile:!0,pc:function(e,n){window.dingtalk.platform.invokeAPI(n.msgId,"reduceImageSize",e)}}),yn.version={ios:"2.1.0",android:"2.1.0",pc:"2.1.0"},P.registerAPI("removeStorageItem",{mobile:!0,mini:!0}),Sn.version={android:"1.3.1.1",ios:"1.3.1.1"},P.registerAPI("replacePage",{mini:!0,mobile:!0}),Cn.version={android:"1.3.2",ios:"1.3.2"},P.registerAPI("resetView",{mini:!0,mobile:!0}),Tn.version={android:"1.3.0",ios:"1.3.0"},P.registerAPI("resumeAudio",{mini:!0,mobile:!0}),En.version={android:"1.3.0",ios:"1.3.0"},P.registerAPI("rotateView",{mini:!0,mobile:!0}),xn.version={android:"1.3.0",ios:"1.3.0"},P.registerAPI("scan",{mini:!0,mobile:!0}),Rn.version={android:"1.3.2",ios:"1.3.2"},P.registerAPI("searchOnMap",{mini:!0,mobile:!0}),Ln.version={android:"1.3.2",ios:"1.3.2"},P.registerAPI("setNavIcon",{mobile:!0}),_n.version={android:"1.3.0",ios:"1.3.0"},P.registerAPI("setNavLeftText",{mini:!0,mobile:!0,pc:function(e,n){window.dingtalk.platform.invokeAPI(n.msgId,"biz.navigation.setLeft",e)}}),On.version={ios:"1.2.0",pc:"1.2.0"},P.registerAPI("setOptionMenu",{mobile:function(e,n){var i=n.resolve,t=n.context;t&&t.call("setOptionMenu",e,function(){i()})}}),Nn.version={android:"1.1.0",ios:"1.1.0"},P.registerAPI("setStorageItem",{mobile:!0,mini:!0}),Mn.version={android:"1.3.1.1",ios:"1.3.1.1"},P.registerAPI("setTitle",{mini:Dn,mobile:Dn,pc:function(e,n){window.dingtalk.platform.invokeAPI(n.msgId,"biz.navigation.setTitle",e)}}),Fn.version={android:"1.2.0",ios:"1.2.0",pc:"1.2.0"},P.registerAPI("shareFileToMessage",{mini:!0,mobile:!0,pc:function(e,n){window.dingtalk.platform.invokeAPI(n.msgId,"shareFileToMessage",e)}}),Bn.version={android:"1.8.2",ios:"1.8.2",pc:"1.8.2"},P.registerAPI("shareImageToMessage",{mini:!0,mobile:!0,pc:function(e,n){window.dingtalk.platform.invokeAPI(n.msgId,"shareImageToMessage",e)}}),Wn.version={android:"1.8.2",ios:"1.8.2",pc:"1.8.2"},P.registerAPI("shareToMessage",{mini:!0,mobile:!0,pc:function(e,n){window.dingtalk.platform.invokeAPI(n.msgId,"biz.util.share",e)}}),Un.version={android:"1.3.5",ios:"1.3.5",pc:"1.3.5"},P.registerAPI("shootVideo",{mini:!0,mobile:!0}),Vn.version={android:"1.3.5",ios:"1.3.5"},P.registerAPI("showActionSheet",{mini:!0,mobile:!0,pc:function(e,n){window.dingtalk.platform.invokeAPI(n.msgId,"device.notification.actionSheet",e)}}),zn.version={android:"1.3.2",ios:"1.3.2",pc:"1.3.2"},P.registerAPI("showCallMenu",{mini:!0,mobile:!0}),jn.version={android:"1.3.9",ios:"1.3.9"},P.registerAPI("showDatePicker",{mobile:!0,mini:!0}),Gn.version={android:"1.3.0",ios:"1.3.0"},P.registerAPI("showDateTimePicker",{mini:!0,mobile:!0}),Hn.version={android:"1.3.10",ios:"1.3.10"},P.registerAPI("showExtendModal",{mini:!0,mobile:!0}),Qn.version={android:"1.3.5",ios:"1.3.5"},P.registerAPI("showHomeBottomTab",{mobile:!0}),Jn.version={android:"1.3.0",ios:"1.3.0"},P.registerAPI("showLoading",{mini:!0,mobile:!0}),Kn.version={android:"1.3.2",ios:"1.3.2"},P.registerAPI("showModal",{mini:!0,mobile:!0,pc:function(e,n){window.dingtalk.platform.invokeAPI(n.msgId,"biz.util.openModal",e)}}),$n.version={android:"1.3.5",ios:"1.3.5",pc:"1.3.5"},P.registerAPI("showMultiSelect",{mini:!0,mobile:!0}),Yn.version={android:"1.3.10",ios:"1.3.10"},P.registerAPI("showOnMap",{mini:!0,mobile:!0}),qn.version={android:"1.3.2",ios:"1.3.2"},P.registerAPI("showOptionMenu",{mobile:function(e,n){var i=n.resolve,t=n.context;t&&t.call("showOptionMenu",e,function(){i()})}}),Zn.version={android:"1.1.0",ios:"1.1.0"},P.registerAPI("showPlainInputUponKeyboard",{mobile:!0,mini:!0}),Xn.version={android:"1.3.0",ios:"1.3.0"},P.registerAPI("showQuickCallMenu",{mini:!0,mobile:!0}),ei.version={android:"1.6.2",ios:"1.6.2"},P.registerAPI("showSelect",{mini:!0,mobile:!0}),ni.version={android:"1.3.2",ios:"1.3.2"},P.registerAPI("showSignature",{mobile:!0}),ii.version={android:"1.3.4"},P.registerAPI("showSocialShare",{mini:!0,mobile:!0}),ti.version={android:"1.2.0.10",ios:"1.2.0.10"},P.registerAPI("showTimePicker",{mobile:!0,mini:!0}),oi.version={android:"1.3.0",ios:"1.3.0"},P.registerAPI("showTitlebar",{mini:!0,mobile:!0}),ri.version={android:"2.1.0",ios:"2.1.0"},P.registerAPI("startFaceRecognition",{mini:!0,mobile:!0}),ai.version={android:"1.8.2",ios:"1.8.2"},P.registerAPI("startGeolocation",{mobile:function(e,n){var i=n.resolve,o=n.reject,r=n.context,s=P.registerEvent(a.UPDATE_LOCATION,function(n){var i=n.data;i.errorCode!==t.SUCCESS?e.onFail&&e.onFail(i):e.onSuccess&&e.onSuccess(i.result)});r&&r.call("startGeolocation",e,function(n){P.registerContinuesEvent(e.sceneId,s),P.handleBridgeResponse(n,i,o)})}}),si.version={android:"1.3.2",ios:"1.3.2"},P.registerAPI("startListenNetworkStatus",{mobile:ci,mini:ci}),ui.version={android:"1.3.1.1",ios:"1.3.1.1"},P.registerAPI("startRecordAudio",{mini:!0,mobile:!0}),li.version={android:"1.3.0",ios:"1.3.0"},P.registerAPI("startTraceReport",{mobile:function(e,n){var i=n.resolve,o=n.reject,r=n.context,s=P.registerEvent(a.UPDATE_TRACE,function(n){var i=n.data;i.errorCode&&i.errorCode!==t.SUCCESS?e.onFail&&e.onFail(i):e.onSuccess&&e.onSuccess(i.result||i)});r&&r.call("startTraceReport",e,function(n){P.registerContinuesEvent(e.traceId,s),P.handleBridgeResponse(n,i,o)})}}),di.version={android:"1.3.4",ios:"1.3.4"},P.registerAPI("startVPNApp",{mini:!0,mobile:!0}),fi.version={android:"1.6.0",ios:"1.6.0"},P.registerAPI("startWatchShake",{mobile:function(e,n){var i=n.resolve,t=n.reject,o=n.context,r=P.registerEvent(a.ON_SHAKE,function(){e.onSuccess&&e.onSuccess()});o&&o.call("startWatchShake",e,function(e){P.registerContinuesEvent("shake",r),P.handleBridgeResponse(e,i,t)})}}),pi.version={android:"1.6.2",ios:"1.6.2"},P.registerAPI("stopAudio",{mini:!0,mobile:!0}),gi.version={android:"1.3.0",ios:"1.3.0"},P.registerAPI("stopGeolocation",{mobile:function(e,n){var i=n.resolve,t=n.reject,o=n.context;o&&o.call("stopGeolocation",e,function(n){P.removeContinuesEvent(e.sceneId),P.handleBridgeResponse(n,i,t)})}}),vi.version={android:"1.3.2",ios:"1.3.2"},P.registerAPI("stopListenNetworkStatus",{mini:hi,mobile:hi}),mi.version={android:"1.3.1.1",ios:"1.3.1.1"},P.registerAPI("stopPullToRefresh",{mobile:function(e,n){var i=n.resolve,t=n.context;t&&t.call("restorePullToRefresh",e,function(){i()})}}),ki.version={android:"1.3.0",ios:"1.3.0"},P.registerAPI("stopRecordAudio",{mini:!0,mobile:!0}),Ii.version={android:"1.3.0",ios:"1.3.0"},P.registerAPI("stopTraceReport",{mobile:function(e,n){var i=n.resolve,t=n.reject,o=n.context;o&&o.call("stopTraceReport",e,function(n){P.removeContinuesEvent(e.traceId),P.handleBridgeResponse(n,i,t)})}}),wi.version={android:"1.3.4",ios:"1.3.4"},P.registerAPI("stopVPNApp",{mini:!0,mobile:!0}),Pi.version={android:"1.6.0",ios:"1.6.0"},P.registerAPI("stopWatchShake",{mobile:function(e,n){var i=n.resolve,t=n.reject,o=n.context;o&&o.call("stopWatchShake",e,function(e){P.removeContinuesEvent("shake"),P.handleBridgeResponse(e,i,t)})}}),Ai.version={android:"1.6.2",ios:"1.6.2"},P.registerAPI("subscribe",{mobile:function(e,n){var i=n.resolve,t=n.reject,o=n.context,r=!1;o&&o.call("subscribe",e,function(n){r?(e.onSuccess||e.onFail)&&("0"!==n.errorCode?e.onFail&&e.onFail(n):e.onSuccess&&e.onSuccess(n.result)):(r=!0,P.handleBridgeResponse(n,i,t))})}}),bi.version={android:"1.6.0",ios:"1.6.0"},P.registerAPI("takePhoto",{mini:!0,mobile:!0}),yi.version={android:"1.3.5",ios:"1.3.5"},P.registerAPI("toast",{mobile:function(e,n){var i=n.resolve,o=n.reject,r=n.context,a={type:"error"===e.icon?"fail":"success"===e.icon?"success":"none",content:e.text,duration:1e3*e.duration};r&&r.call("toast",a,function(){P.handleBridgeResponse({errorCode:t.SUCCESS,result:{}},i,o)})},pc:function(e,n){var i=e.icon,t=e.text,o=e.duration,r=e.delay;window.dingtalk.platform.invokeAPI(n.msgId,"device.notification.toast",{type:i,text:t,duration:o,delay:r})}}),Si.version={android:"1.3.2",ios:"1.3.2"},P.registerAPI("unlockWithSecurityVerification",{mini:!0,mobile:!0}),Ci.version={android:"1.3.1.1",ios:"1.3.1.1"},P.registerAPI("unsubscribe",{mobile:!0}),Ti.version={android:"1.6.0",ios:"1.6.0"},P.registerAPI("dgUploadFile",{mini:!0,mobile:!0,pc:function(e,n){window.dingtalk.platform.invokeAPI(n.msgId,"biz.util.dgUploadFile",e)}}),Ei.version={android:"1.3.2",ios:"1.3.2",pc:"1.3.6"},P.registerAPI("uploadFileByType",{mini:!0,mobile:!0}),xi.version={android:"1.3.0",ios:"1.3.0"},P.registerAPI("uploadFile",{mini:!0}),Ri.version={android:"1.6.2",ios:"1.6.2"},P.registerAPI("uploadRemoteFileToDisk",{mini:!0,mobile:!0}),Li.version={android:"1.6.0",ios:"1.6.0"},P.registerAPI("ut",{pc:function(e,n){window.dingtalk.platform.invokeAPI(n.msgId,"biz.util.ut",e)}}),_i.version={pc:"1.3.10"},P.registerAPI("vibrate",{mini:!0,mobile:!0}),Oi.version={android:"1.3.1",ios:"1.3.1"};var Ni={alert:b,authConfig:y,callPhone:S,canIUse:function(e){return function(){return v()(m.a.mark(function e(n){var i,t,o,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Mi[n]){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,C();case 4:return i=e.sent,t=i.version,o=Mi[n].version,r=N()?"android":M()?"ios":D()?"pc":"unknown",e.abrupt("return",!(!o||!o[r])&&_(t,o[r])>0);case 9:case"end":return e.stop()}},e)})).apply(this,arguments)}.apply(this,arguments)},checkVPNAppInstalled:F,checkVPNAppOnline:B,chooseContact:W,chooseContactWithComplexPicker:V,chooseDateRangeWithCalendar:z,chooseDayWithCalendar:j,chooseDepartments:G,chooseFile:H,chooseHalfDayWithCalendar:Q,chooseImage:J,chooseLocalImage:K,chooseSpaceDir:$,chooseTimeWithCalendar:Y,chooseVideo:q,closePage:X,confirm:ee,copyToClipboard:ne,createChatGroup:ie,createDing:te,createVideoMeeting:oe,dealWithBackAction:re,disablePullToRefresh:ae,disableWebviewBounce:se,downloadAudio:ce,downloadFile:le,enablePullToRefresh:de,enableVpn:fe,enableWebviewBounce:pe,exclusiveInvoke:ge,getAppInstallStatus:ve,getAuthCode:he,getConfig:me,getGeolocation:ke,getGeolocationStatus:Ie,getHotspotInfo:we,getLanguageSetting:Pe,getLoginUser:Ae,getNetworkType:be,getPhoneInfo:ye,getStorageItem:Se,getToClipboard:Ce,getTraceStatus:Te,getUUID:Ee,getUserAgent:Ne,getWaterMark:Qe,getWifiStatus:Je,getWorkbenchContext:Ke,goBack:$e,hideLoading:Ye,hideOptionMenu:qe,hideTitleBar:Ze,index:Mi,isDownloadFileExist:Xe,locateOnMap:en,on:function(e,n){return P.registerEvent(e,n)},onAudioPlayEnd:nn,onRecordAudioEnd:tn,openApp:on,openBrowser:rn,openChat:an,openDownloadFile:sn,openLink:un,openPage:ln,openSchemeUrl:dn,openSlidePanel:fn,openWatermarkCamera:pn,pauseAudio:gn,pickChat:vn,pickChatByCorpId:function(e){return P.invoke("pickChatByCorpId",e)},playAudio:hn,previewDoc:mn,previewImage:kn,printFile:In,printNativeLog:wn,prompt:An,readImageToBase64:bn,ready:function(e){"function"==typeof e?P.onReady(e):console.error("dd.ready's param must be function! ")},reduceImageSize:yn,removeStorageItem:Sn,replacePage:Cn,resetView:Tn,resumeAudio:En,rotateView:xn,scan:Rn,searchOnMap:Ln,setNavIcon:_n,setNavLeftText:On,setOptionMenu:Nn,setStorageItem:Mn,setTitle:Fn,shareFileToMessage:Bn,shareImageToMessage:Wn,shareToMessage:Un,shootVideo:Vn,showActionSheet:zn,showCallMenu:jn,showDatePicker:Gn,showDateTimePicker:Hn,showExtendModal:Qn,showHomeBottomTab:Jn,showLoading:Kn,showModal:$n,showMultiSelect:Yn,showOnMap:qn,showOptionMenu:Zn,showPlainInputUponKeyboard:Xn,showQuickCallMenu:ei,showSelect:ni,showSignature:ii,showSocialShare:ti,showTimePicker:oi,showTitleBar:ri,startFaceRecognition:ai,startGeolocation:si,startListenNetworkStatus:ui,startRecordAudio:li,startTraceReport:di,startVPNApp:fi,startWatchShake:pi,stopAudio:gi,stopGeolocation:vi,stopListenNetworkStatus:mi,stopPullToRefresh:ki,stopRecordAudio:Ii,stopTraceReport:wi,stopVPNApp:Pi,stopWatchShake:Ai,subscribe:bi,takePhoto:yi,toast:Si,unlockWithSecurityVerification:Ci,unsubscribe:Ti,uploadFile:Ei,uploadFileByType:xi,uploadLocalFile:Ri,uploadRemoteFileToDisk:Li,ut:_i,version:C,vibrate:Oi};P.getAppType()===r.MINI_APP?Ni=new Proxy(Ni,{get:function(e,n,i){return n in Ni?Reflect.get(e,n,i):function(e,n){if(e)return function(i){return"function"==typeof i||n.includes("Sync")||n.startsWith("create")?e(i):new Promise(function(n,t){e(p()({},i,{success:function(e){n(e)},fail:function(e){t(e)}}))})}}(Reflect.get(my,n,i),n)}}):(Object.defineProperty(window,"dd",{value:Ni}),Object.defineProperty(window,"gdt",{value:Ni}));var Mi=Ni,Di={name:"DingDingAuth",components:{ViewLoading:s.a},data:function(){return{}},created:function(){var e=this;Mi.getAuthCode({}).then(function(n){n&&e.loginVerify(n.code)}).catch(function(n){console.log(n),e.$router.replace("/dingdingError")})},methods:{setPageConfig:function(){l.a.setData("pageConfig","pz",!0),l.a.setData("pageConfig","kmye",!0),l.a.setData("pageConfig","hbzj",!0),l.a.setData("pageConfig","srqk",!0),l.a.setData("pageConfig","zcqk",!0),l.a.setData("pageConfig","szmx",!0)},loginVerify:function(e){var n=this;this.$http.postFormData("villageapp/dingtalk/loginVerify",{accessToken:"",authCode:e}).then(function(e){if(e.data)return 200===e.code?(c.a.setToken(e.data.token),n.$store.dispatch("getUserInfo").then(function(e){return n.$http.get("villageapp/orgNew/findFirstOrg/"+e.phid).then(function(e){var i=e.data||[];if(n.$store.commit("SET_FIRST_ORG_LIST",i),!i.length)return u.b.fail("用户无关联组织！"),d.a.removeLoginAuth(),n.$router.replace("/dingdingError"),!1;n.$store.dispatch("setOrgInfo",i[0]),n.$store.dispatch("clearKeepaliveName"),n.setPageConfig(),n.loginLoading=!1,n.$router.push({path:"/index/approval/pre",query:n.otherQuery}).catch(function(e){console.log("err",e)})})})):(sessionStorage.setItem("dingdingAuth",e.data),void n.$router.replace("/login"));u.b.fail("系统异常！")}).catch(function(e){console.log(e),n.$router.replace("/dingdingError")})},backHandler:function(){this.$router.history.go(-1)}}},Fi=i("W5g0");var Bi=function(e){i("2Qt8")},Wi=Object(Fi.a)(Di,function(){var e=this.$createElement,n=this._self._c||e;return n("div",{staticClass:"ding-ding-auth"},[n("view-loading",{attrs:{"loading-text":"授权中..."}})],1)},[],!1,Bi,"data-v-01dc7105",null);n.default=Wi.exports},NwOa:function(e,n,i){e.exports=i("wQFZ")},le8P:function(e,n){function i(e,n,i,t,o,r,a){try{var s=e[r](a),c=s.value}catch(e){return void i(e)}s.done?n(c):Promise.resolve(c).then(t,o)}e.exports=function(e){return function(){var n=this,t=arguments;return new Promise(function(o,r){var a=e.apply(n,t);function s(e){i(a,o,r,s,c,"next",e)}function c(e){i(a,o,r,s,c,"throw",e)}s(void 0)})}},e.exports.default=e.exports,e.exports.__esModule=!0},"m+5q":function(e,n){function i(){return e.exports=i=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,i.apply(this,arguments)}e.exports=i,e.exports.default=e.exports,e.exports.__esModule=!0},wQFZ:function(e,n,i){var t=function(e){"use strict";var n,i=Object.prototype,t=i.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},r=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,n,i){return Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{c({},"")}catch(e){c=function(e,n,i){return e[n]=i}}function u(e,n,i,t){var o=n&&n.prototype instanceof h?n:h,r=Object.create(o.prototype),a=new E(t||[]);return r._invoke=function(e,n,i){var t=d;return function(o,r){if(t===p)throw new Error("Generator is already running");if(t===g){if("throw"===o)throw r;return R()}for(i.method=o,i.arg=r;;){var a=i.delegate;if(a){var s=S(a,i);if(s){if(s===v)continue;return s}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(t===d)throw t=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);t=p;var c=l(e,n,i);if("normal"===c.type){if(t=i.done?g:f,c.arg===v)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(t=g,i.method="throw",i.arg=c.arg)}}}(e,i,a),r}function l(e,n,i){try{return{type:"normal",arg:e.call(n,i)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var d="suspendedStart",f="suspendedYield",p="executing",g="completed",v={};function h(){}function m(){}function k(){}var I={};I[r]=function(){return this};var w=Object.getPrototypeOf,P=w&&w(w(x([])));P&&P!==i&&t.call(P,r)&&(I=P);var A=k.prototype=h.prototype=Object.create(I);function b(e){["next","throw","return"].forEach(function(n){c(e,n,function(e){return this._invoke(n,e)})})}function y(e,n){var i;this._invoke=function(o,r){function a(){return new n(function(i,a){!function i(o,r,a,s){var c=l(e[o],e,r);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&t.call(d,"__await")?n.resolve(d.__await).then(function(e){i("next",e,a,s)},function(e){i("throw",e,a,s)}):n.resolve(d).then(function(e){u.value=e,a(u)},function(e){return i("throw",e,a,s)})}s(c.arg)}(o,r,i,a)})}return i=i?i.then(a,a):a()}}function S(e,i){var t=e.iterator[i.method];if(t===n){if(i.delegate=null,"throw"===i.method){if(e.iterator.return&&(i.method="return",i.arg=n,S(e,i),"throw"===i.method))return v;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=l(t,e.iterator,i.arg);if("throw"===o.type)return i.method="throw",i.arg=o.arg,i.delegate=null,v;var r=o.arg;return r?r.done?(i[e.resultName]=r.value,i.next=e.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,v):r:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,v)}function C(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function T(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var i=e[r];if(i)return i.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function i(){for(;++o<e.length;)if(t.call(e,o))return i.value=e[o],i.done=!1,i;return i.value=n,i.done=!0,i};return a.next=a}}return{next:R}}function R(){return{value:n,done:!0}}return m.prototype=A.constructor=k,k.constructor=m,m.displayName=c(k,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===m||"GeneratorFunction"===(n.displayName||n.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,c(e,s,"GeneratorFunction")),e.prototype=Object.create(A),e},e.awrap=function(e){return{__await:e}},b(y.prototype),y.prototype[a]=function(){return this},e.AsyncIterator=y,e.async=function(n,i,t,o,r){void 0===r&&(r=Promise);var a=new y(u(n,i,t,o),r);return e.isGeneratorFunction(i)?a:a.next().then(function(e){return e.done?e.value:a.next()})},b(A),c(A,s,"Generator"),A[r]=function(){return this},A.toString=function(){return"[object Generator]"},e.keys=function(e){var n=[];for(var i in e)n.push(i);return n.reverse(),function i(){for(;n.length;){var t=n.pop();if(t in e)return i.value=t,i.done=!1,i}return i.done=!0,i}},e.values=x,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(T),!e)for(var i in this)"t"===i.charAt(0)&&t.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var i=this;function o(t,o){return s.type="throw",s.arg=e,i.next=t,o&&(i.method="next",i.arg=n),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=t.call(a,"catchLoc"),u=t.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,n){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&t.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=n&&n<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=n,r?(this.method="next",this.next=r.finallyLoc,v):this.complete(a)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),v},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),T(i),v}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===e){var t=i.completion;if("throw"===t.type){var o=t.arg;T(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,i,t){return this.delegate={iterator:x(e),resultName:i,nextLoc:t},"next"===this.method&&(this.arg=n),v}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}}});