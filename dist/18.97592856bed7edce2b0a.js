webpackJsonp([18],{DaWL:function(t,a){},e7AU:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("/0a5"),i=e("qM9z"),n=e("bSIt"),o=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var e=arguments[a];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},r={name:"IndexApprovalMine",components:{ApprovalTag:s.a},mixins:[i.a],data:function(){return{current:0,list:[],loading:!1,finished:!1,show:!1,orgName:"",phCurorgid:""}},computed:o({},Object(n.b)(["mineSearchForm"])),watch:{mineSearchForm:function(){this.reQueryList()}},created:function(){console.log("approval-mine-render")},mounted:function(){console.log(this.list)},methods:{backHandler:function(){this.$router.history.go(-1)},reQueryList:function(){return this.list=[],this.finished=!1,this.queryList(1)},queryList:function(t){var a=this;this.loading=!0,this.current=t||this.current+1,this.$http.get("approval-village/AppBusinessController/findAllPageByCondition",o({},this.mineSearchForm,{userId:this.$commonQueryParam.phUserId,orgCode:this.$commonQueryParam.orgCode,orgId:this.$commonQueryParam.orgId,isDraft:1,queryType:1,pageIndex:this.current,pageSize:20})).then(function(t){var e=t.data||{},s=e.total||0;a.$store.commit("SET_mineTotal",s||""),a.list=a.list.concat(e.records||[]),a.loading=!1,a.list.length>=s&&(a.finished=!0),a.list.forEach(function(t){0===t.payStatus?t.paymentStatusName="未支付":1===t.payStatus?t.paymentStatusName="支付中":2===t.payStatus?t.paymentStatusName="支付成功":3===t.payStatus?t.paymentStatusName="支付失败":4===t.payStatus?t.paymentStatusName="部分支付失败":5===t.payStatus?t.paymentStatusName="待复核/授权":t.paymentStatusName=""})}).catch(function(t){console.log(t),a.loading=!1,a.finished=!0})},toDetail:function(t){this.$router.push({name:"ApprovalDetailHas",query:{formId:t.formId,formInstanceId:t.phid,theme:t.theme,phid:t.phid,processId:t.processId}})},onLoad:function(){this.queryList()}}},l=e("W5g0");var c=function(t){e("DaWL")},u=Object(l.a)(r,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"view-approval-pre"},[e("div",{ref:"scrollView",staticClass:"c-l-w"},[e("van-list",{staticClass:"a-l-l",attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(a){t.loading=a},expression:"loading"}},t._l(t.list,function(a){return e("van-cell",{key:a.phid,attrs:{title:a.theme,"is-link":""},on:{click:function(e){return t.toDetail(a)}}},[e("div",{attrs:{slot:"label"},slot:"label"},[e("div",{staticClass:"label-b"},[e("span",[t._v("款项用途："+t._s(a.useOfFunds))])]),t._v(" "),e("div",{staticClass:"label-b"},[e("span",[t._v("组织："+t._s(a.orgName))])])]),t._v(" "),e("div",{staticClass:"f-v"},[e("div",{staticClass:"label-b"},[e("span",{staticClass:"m-t"},[t._v("￥"+t._s(t.$formatMoney(a.applicationsAmount)))])]),t._v(" "),e("div",{staticClass:"label-b",staticStyle:{"min-width":"340px",height:"40px"}},[e("span",[t._v(t._s(a.submitTime))])]),t._v(" "),"1"!==a.phDelflag?e("approval-tag",{attrs:{status:""+a.formStatus}}):t._e(),t._v(" "),"1"===a.phDelflag?e("approval-tag",{attrs:{status:"6"}}):t._e()],1)])}),1)],1)])},[],!1,c,"data-v-db0977d2",null);a.default=u.exports}});