webpackJsonp([10],{Boss:function(t,s){},"ZxQ/":function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAA4CAMAAABnuDDbAAAB2lBMVEUAAAAAAAAAAACAgIBVVVVAQEAzMzMrKytVVVVJSUlAQEA5OTlVVVVNTU1GRkZAQEA7OztOTk5JSUlERERAQEBLS0tHR0dDQ0NAQEBNTU1JSUlGRkZDQ0NKSkpHR0dFRUVCQkJMTExJSUlGRkZERERMTExKSkpISEhGRkZJSUlHR0dFRUVDQ0NKSkpISEhGRkZERERLS0tJSUlHR0dGRkZERERKSkpISEhHR0dFRUVKSkpJSUlHR0dGRkZLS0tKSkpISEhHR0dGRkZKSkpJSUlISEhGRkZJSUlISEhHR0dGRkZJSUlISEhHR0dGRkZJSUlISEhHR0dGRkZKSkpJSUlISEhHR0dGRkZJSUlFRUVISEhHR0dGRkZJSUlISEhHR0dGRkZJSUlISEhISEhHR0dGRkZJSUlISEhHR0dGRkZJSUlISEhISEhHR0dGRkZJSUlISEhHR0dHR0dGRkZISEhISEhHR0dGRkZJSUlISEhHR0dHR0dGRkZJSUlISEhHR0dKSkpGRkZISEhHR0dHR0dJSUlISEhHR0dHR0dISEhISEhHR0dGRkZJSUlISEhHR0dHR0dJSUlGRkZISEhISEhHR0dGRkZJSUlISEhHR0dHR0dGRkZISEhISEheg5k1AAAAnnRSTlMAAQICAwQFBgYHCAkJCgsMDQ0ODxAREhMUFBUWFxgZGhsbHB0eHh8gISMkJSYmJygpKSorLC0tLi8wMDEyMzM0NTY3Nzg5Ojs8PT4/QEFCQkNERUVGR0hJSUpKS0xNTk9QUFFSU1RUVVZXV1hZWltbXF1eX19gYWJiY2RlZmZnaGhpamtsbW5vcHFyc3R0dXZ3d3h4eXp7e3x9fn9/gEI/D+8AAATxSURBVBgZjcGLQ415AoDh9zt7Sp0mUSqTyMq6NcqqxRgt45KsZlQ7WWuQnawwLmmTUds0E0oZajeHOnPe/3V/36lckrHPw3vK/9R+fXjyxXzm5fTD/gtHtyT5bfmNl5+6zFzf0TV80LYraRfMPnowMDDy+Nm8OZn+pgQrSO4fMfb0uyNbUixKVDR0DP1q8LS1kOUqnhqMd26JWK74z4NZdbaBZVrU/p18wKd/T+sgy1SM9NbwRl5J5YayVMRrxW2D9XxItOVE98grc7JPbrbvTfHbEvXdz1xm/l/H1vBBqZOT5qRH+novXbx6Z2jWnPl/bGBF+e1pg4lzDeURS0p3dYwZZG9V8r7GSXW6o4r3rDs1pc635/OuwhvqRHM+K0o0jqoTm3jbxnFNn8pjUVRZu/vAgb071iVYlDg+q3OHeaP+lQ6sZUFt5720i+YG22tYUDKgfhux6I/zZtsjYqu/mnCZ8ZZCYonOrHZH5DRmzOwjlvo6bWxu+Pqlb85e6hvPGpttTRLbn9GeiKBmzkwTsYZpg9HWTUkWFdVfmjEY/wOxpoy2Aasn9QBB/gU1810V70p+MaZm2og1Zs3WQ7+eJ0gNqTfX876o+bl6NY+gTWdLeOKDJLB6VNPNLNqw/3TX2TPNW5PkrL6l3koSXNdt1HauA/JHdaqKnJoLz1306vuGiNjXWb1KsKrrKIuu6kQ5sY39vuPxHmJfZvUkbzuhM+XEWjLq/MDJndWVm/Z0jhlcySdo1cxm3ih7afYzglU31NnTKZas78noWAXBFf05wWu9eo4g0af2pnhb9UOdKgUKJvUwS2p1toigW7PHWWbVNf25ENitk0kWXdZWgi/UFmKfHLx89273/hSxRJ/+k2BQm1iQnzZdCKRm9BJB8qu0ObOtEUHBI90J1OldFuzSboLTOp0Cih4YzGcM+gsIduoQEE2aKSSnSxuBaEqPAclB/aVlHVH1N6/0dkRwW2uAv2kDOfd0DbBF0wVAiw6tJqd6Sg8R1GkH8Jl2kDNtmuCU3gKSM04Xs2hTxskIyHvpMLBWvydWoA8JerQNqNM2XuvWWoIh0wSzjhIr1WGCfj0InNKtQOnD0SKgQY8Q9GohMOEEsfV6j+C+NgFntRI4oHuBjXqG4LwWAWNOEVun9wn6tBno1I3AHj0MFGsPQcX1FoLnjhD7REcJerUF+IvuADbrWYIJp/NYUq0Xif0u4zOCi9oJ7NNmIC/jvwnatZ0lN3UnORNmE8BJ7QM26QWCe2bLgaIZs8fJibr0PgvuaDVQp78AibSPCI7oOYL6X3WgPkXJvhGdqWRBpx4AytRy4LZuAPKnnVtP8PmcQdbgeS2L6vQcwbieBD7XLoIWHUoS1PxgTvZqKUsKM44RdOkQUPDCF0VAYlR7ImK/P9N7t6elgrfcM1sGbFdrgL/qeYKKGb1WwMqO6JdA9EivAyUvzNQSbE/r412sqGTeFoJDmq0GTujUaoLtM+rgoTJWsPV4PkFySu8CiR/0pxRB+bCx/4w9GB6fnqxiBYfURqDsuf5YTBAdfOJrx1hBNKTTa4DNaR2vIhbtuPDjvMHM7bWs5NOX+kMesO2/+vJExIJEcUVlMR/SrF5LAFWP1eHd/D/Oq9eSQOG3WXX0cBEfFd1QO4ltHTWYv1PKxyTvaDcL6gYNTvNRyabtCZZUdTxO72KZ/wGt5T6iWZ9nMQAAAABJRU5ErkJggg=="},ymfR:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=a("/0a5"),i=a("qM9z"),o=a("bSIt"),n=Object.assign||function(t){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(t[e]=a[e])}return t},l={name:"IndexApprovalPre",components:{ApprovalTag:e.a},mixins:[i.a],data:function(){return{current:0,password:"",list:[],loading:!1,finished:!1,passwordShow:!1,fingerShow:!1,currentRow:{}}},computed:n({},Object(o.b)(["preSearchForm"])),watch:{preSearchForm:function(){this.reQueryList()}},created:function(){console.log("approval-pre-render")},methods:{cancelValidation:function(){this.fingerShow=!1},cancel:function(){this.passwordShow=!1},pupUp:function(){this.passwordShow=!0},pupUpVerify:function(){this.fingerShow=!0},verifyPassword:function(){var t=this;this.loading=!0,this.$http.postFormData("villageapp/applicationCode/verifyApplicationCode",{applicationCode:this.password}).then(function(s){console.log(s.code,"res.code000"),200===s.code?(t.toDetail(t.currentRow),t.$toast.success(s.message),t.passwordShow=!1):t.$toast.fail(s.message)}).catch(function(s){console.log("err",s),t.$message({showClose:!0,message:s.message,type:"error"})})},backHandler:function(){this.$router.history.go(-1)},getApplicationCodeSetting:function(t){var s=this;this.currentRow=t,this.loading=!0,this.$http.get("villageapp/applicationCode/setting/getApplicationCodeSetting").then(function(a){100===a.code?s.$router.push({name:"mine-newApplication1"}):200===a.code&&null!=a.data&&("1"===a.data.enableApplicationCode?s.pupUp():s.toDetail(t)),console.log("提交退回数据成功")})},reQueryList:function(){return this.list=[],this.finished=!1,this.queryList(1)},queryList:function(t){var s=this;this.loading=!0,this.current=t||this.current+1,this.$http.postFormData("approval-village/AppBusinessController/findNeedApprovalList",n({},this.preSearchForm,{orgId:this.$commonQueryParam.orgId,userId:this.$commonQueryParam.phUserId,queryType:1,current:this.current,size:20})).then(function(t){var a=t.data||{},e=a.total||0;s.$store.commit("SET_preToal",e||""),s.list=s.list.concat(a.records||[]),s.loading=!1,s.list.length>=e&&(s.finished=!0)}).catch(function(t){console.log(t),s.loading=!1,s.finished=!0})},toDetail:function(t){this.$router.push({name:"ApprovalDetail",query:{formId:t.formId,formInstanceId:t.formInstanceId,theme:t.theme,phid:t.phid,processId:t.processId}})},onLoad:function(){this.queryList()}}},r=a("W5g0");var d=function(t){a("Boss")},c=Object(r.a)(l,function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"view-approval-pre"},[e("div",{ref:"scrollView",staticClass:"c-l-w"},[e("van-list",{staticClass:"a-l-l",attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(s){t.loading=s},expression:"loading"}},t._l(t.list,function(s){return e("van-cell",{key:s.phid,attrs:{title:s.theme,"is-link":""},on:{click:function(a){return t.getApplicationCodeSetting(s)}}},[e("div",{attrs:{slot:"label"},slot:"label"},[e("div",{staticClass:"label-b"},[e("span",[t._v("款项用途："+t._s(s.useOfFunds))])]),t._v(" "),e("div",{staticClass:"label-b"},[e("span",[t._v("组织："+t._s(s.orgName))])])]),t._v(" "),e("div",{staticClass:"f-v"},[e("div",{staticClass:"label-b"},[e("span",{staticClass:"m-t"},[t._v("￥"+t._s(t.$formatMoney(s.applicationsAmount)))])]),t._v(" "),e("div",{staticClass:"label-b"},[e("span",[t._v(t._s(t.$formatToDay(s.applyTime)))])]),t._v(" "),"1"!==s.phDelflag?e("approval-tag",{attrs:{status:""+s.formStatus}}):t._e(),t._v(" "),"1"===s.phDelflag?e("approval-tag",{attrs:{status:"6"}}):t._e()],1)])}),1),t._v(" "),e("van-popup",{style:{height:"30%",width:"80%"},attrs:{position:"center"},model:{value:t.passwordShow,callback:function(s){t.passwordShow=s},expression:"passwordShow"}},[e("div",{staticClass:"f-w"},[e("p",{staticClass:"zi"},[t._v("请输入审批码")]),t._v(" "),e("van-field",{attrs:{rules:[{required:!0,message:"请填写密码"}],type:"password",name:"密码",label:"",placeholder:"输入审批码"},model:{value:t.password,callback:function(s){t.password=s},expression:"password"}}),t._v(" "),e("div",[e("div",{staticClass:"b-b-w"},[e("van-button",{staticClass:"b-b-b",attrs:{type:"default",size:"small"},on:{click:function(s){return t.cancel()}}},[t._v("取消")]),t._v(" "),e("van-button",{staticClass:"b-b-b",attrs:{type:"primary",size:"small"},on:{click:function(s){return t.verifyPassword()}}},[t._v("确定")])],1)])],1)]),t._v(" "),e("van-popup",{style:{height:"30%",width:"80%"},attrs:{position:"center"},model:{value:t.fingerShow,callback:function(s){t.fingerShow=s},expression:"fingerShow"}},[e("div",{staticClass:"f-w"},[e("div",{staticClass:"zhiwen"},[e("img",{attrs:{src:a("ZxQ/"),alt:""}})]),t._v(" "),e("p",{staticClass:"zhiwen"},[t._v("请使用您的指纹验证")]),t._v(" "),e("div",[e("div",{staticClass:"b-b-w"},[e("van-button",{staticClass:"b-b-b",attrs:{type:"default",size:"small"},on:{click:function(s){return t.cancelValidation()}}},[t._v("取消")]),t._v(" "),e("van-button",{staticClass:"b-b-b",attrs:{type:"primary",size:"small"},on:{click:function(s){return t.pupUp()}}},[t._v("审批码验证")])],1)])])])],1)])},[],!1,d,"data-v-900cfe3a",null);s.default=c.exports}});