webpackJsonp([0],{"/0a5":function(t,e,n){"use strict";var i={name:"ApprovalTag",props:{status:{type:String,default:""}},data:function(){return{}},created:function(){},methods:{getClass:function(t){return{0:"Aqua",1:"grey",2:"yellow",3:"green",4:"red",5:"red",6:"red"}[t]||""},getName:function(t){return{0:"未送审",1:"未审批",2:"审批中",3:"审批通过",4:"审批不通过",5:"审批退回",6:"审批退回(未送审)"}[t]||""}}},o=n("W5g0");var a=function(t){n("TuX4")},s=Object(o.a)(i,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"approval-tag",class:[this.getClass(this.status)]},[e("span",[this._v(this._s(this.getName(this.status)))])])},[],!1,a,"data-v-246ef5a6",null);e.a=s.exports},"1QuC":function(t,e){},"3q1b":function(t,e){},FJTA:function(t,e,n){"use strict";var i=n("W5g0");var o=function(t){n("fR2e")},a=Object(i.a)({name:"LockTag",data:function(){return{}},created:function(){},methods:{}},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"lock-tag"},[e("div",{staticClass:"top"}),this._v(" "),e("div",{staticClass:"bottom"}),this._v(" "),e("div",{staticClass:"line"})])}],!1,o,"data-v-6ba6bf7e",null);e.a=a.exports},HRnp:function(t,e,n){"use strict";var i={name:"ViewLoading",props:{loadingText:{type:String,default:"加载中..."}},data:function(){return{iconSize:.5*window.adaptive.fontSize+"px"}},created:function(){},methods:{}},o=n("W5g0");var a=function(t){n("d+87")},s=Object(o.a)(i,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"view-loading"},[e("van-loading",{attrs:{size:this.iconSize,color:"#1989fa",vertical:""}},[e("span",{staticStyle:{color:"#1989fa"}},[this._v(this._s(this.loadingText))])])],1)},[],!1,a,"data-v-1da346cc",null);e.a=s.exports},IFrb:function(t,e,n){"use strict";var i=n("t4fs"),o=n("cXi5");e.a={setLoginToken:function(t){o.a.setToken(t)},setLoginInfo:function(t){i.a.setData("UserInfo",t)},removeLoginAuth:function(){o.a.removeToken(),i.a.clearAll()}}},Rz25:function(t,e,n){"use strict";var i={name:"BetterPick",props:{formData:{type:Object,default:function(){return{}}},title:{type:String,default:""},valueKey:{type:String,default:""},columns:{type:Array,default:function(){return[]}}},data:function(){return{showPicker:!1,defaultIndex:0,itemHeight:.96*window.adaptive.fontSize}},created:function(){},deactivated:function(){this.showPicker=!1},methods:{findIndex:function(t){for(var e=0;e<this.columns.length;e++){if(t===this.columns[e].value)return e}return 0},openPick:function(){this.showPicker=!0,this.defaultIndex=this.findIndex(this.formData[this.valueKey])},onCancel:function(){this.showPicker=!1},onConfirm:function(t){this.formData[this.valueKey]=t.value,this.showPicker=!1}}},o=n("W5g0");var a=function(t){n("3q1b")},s=Object(o.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{on:{click:t.openPick}},[t._t("default")],2),t._v(" "),n("van-popup",{attrs:{position:"bottom","get-container":"body"},model:{value:t.showPicker,callback:function(e){t.showPicker=e},expression:"showPicker"}},[t.showPicker?n("van-picker",{attrs:{columns:t.columns,"item-height":t.itemHeight,title:t.title,"default-index":t.defaultIndex,"value-key":"label","show-toolbar":""},on:{confirm:t.onConfirm,cancel:t.onCancel}}):t._e()],1)],1)},[],!1,a,"data-v-1240d780",null);e.a=s.exports},TuX4:function(t,e){},Z5i5:function(t,e,n){"use strict";var i=n("bSIt"),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},a={name:"BookSelect",props:{currentBook:{type:Object,default:function(){return{}}}},data:function(){return{showPicker:!1,itemHeight:.96*window.adaptive.fontSize}},computed:o({},Object(i.b)(["userBookList","bookInfo"])),created:function(){},deactivated:function(){this.showPicker=!1},methods:{onCancel:function(){this.showPicker=!1},onConfirm:function(t){this.showPicker=!1,this.currentBook.phid!==t.phid&&(this.$store.commit("SET_BOOK_INFO",t),this.$emit("change",t))}}},s=n("W5g0");var r=function(t){n("vuQz")},c=Object(s.a)(a,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"book-select"},[n("div",{staticClass:"ellipsis-text",on:{click:function(e){t.showPicker=!0}}},[t._v(t._s(t.currentBook.name))]),t._v(" "),n("van-popup",{attrs:{position:"bottom"},model:{value:t.showPicker,callback:function(e){t.showPicker=e},expression:"showPicker"}},[n("van-picker",{attrs:{columns:t.userBookList,"item-height":t.itemHeight,"show-toolbar":"","value-key":"name",title:"选择账本"},on:{cancel:t.onCancel,confirm:t.onConfirm}})],1)],1)},[],!1,r,"data-v-aa96f362",null);e.a=c.exports},"d+87":function(t,e){},fR2e:function(t,e){},qM9z:function(t,e,n){"use strict";e.a={data:function(){return{scroll:0}},beforeRouteEnter:function(t,e,n){n(function(t){t.$refs.scrollView.scrollTop=t.scroll})},beforeRouteLeave:function(t,e,n){var i=this.$refs.scrollView;this.scroll=i.scrollTop,n()},methods:{resetScrollView:function(){this.$refs.scrollView.scrollTop=0,this.scroll=0}}}},"tHn/":function(t,e,n){"use strict";var i=n("A29K"),o={systemType:""},a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},s={name:"FileView",components:{},data:function(){return{fileList:[],fileIp:o.fileIp,show:!1,imgList:[],otherList:[]}},created:function(){},deactivated:function(){this.show=!1},methods:{getNewUrl:function(t){return(t=t||"").startsWith("http://")||t.startsWith("https://")?t:t.startsWith("/")?this.fileIp+t:this.fileIp+"/"+t},open:function(t){var e=this,n=[];(t=t||[]).forEach(function(t){n.push(a({},t,{url:e.getNewUrl(t.url)}))});var i=[],o=[];n.forEach(function(t){e.$isImage(t.url)?i.push(t):o.push(t)}),this.imgList=i,this.otherList=o,this.show=!0},close:function(){this.show=!1,this.$emit("close")},openImgView:function(t){Object(i.a)({images:this.imgList.map(function(t){return t.url}),startPosition:t,onClose:function(){}})},openFile:function(t){window.open(t.url)},toPath:function(t){this.$router.push(t)}}},r=n("W5g0");var c=function(t){n("1QuC")},l=Object(r.a)(s,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-popup",{style:{height:"100%",width:"100%"},attrs:{position:"left"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("van-nav-bar",{attrs:{title:"查看附件","left-arrow":""},on:{"click-left":t.close}}),t._v(" "),n("div",{staticClass:"b-b-i"},[n("van-row",[t._l(t.imgList,function(e,i){return n("van-col",{key:i,attrs:{span:"8"}},[n("div",{staticClass:"link-w",on:{click:function(e){return t.openImgView(i)}}},[n("div",{staticClass:"img-w"},[n("img",{attrs:{src:e.url,alt:""}})])])])}),t._v(" "),t._l(t.otherList,function(e,i){return n("van-col",{key:i,attrs:{span:"8"}},[n("div",{staticClass:"link-w",on:{click:function(n){return t.openFile(e)}}},[n("div",{staticClass:"img-w"},[n("div",{staticClass:"f-n ellipsis-text"},[t._v(t._s(e.name))])])])])})],2)],1)],1)},[],!1,c,"data-v-4bb0d805",null);e.a=l.exports},upiI:function(t,e){},vuQz:function(t,e){},wOqC:function(t,e,n){"use strict";var i=n("zH3I"),o=n.n(i),a=n("bSIt"),s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r={name:"YearMonthRangeSelect",props:{format:{type:String,default:"YYYY-MM"},sameYear:{type:Boolean,default:!1},minDate:{type:Date,default:function(){return new Date(2020,0,1)}}},data:function(){return{showPicker:!1,startDate:"",endDate:"",step:1,startBookDate:"",itemHeight:.96*window.adaptive.fontSize}},computed:s({maxDate:function(){return new Date(this.minDate.getFullYear()+1,11,1)},endMax:function(){return this.sameYear&&this.startDate?new Date(this.startDate.getFullYear(),11,1):this.maxDate}},Object(a.b)(["bookInfo"])),created:function(){},deactivated:function(){this.showPicker=!1},methods:{formatter:function(t,e){return"year"===t?e+"年":"month"===t?parseInt(e)+"月":e},open:function(t){console.log(t,"dateList"),this.step=1,this.startDate=new Date(t[0]),this.startBookDate=new Date(+this.bookInfo.enableDate.split("-")[0],+this.bookInfo.enableDate.split("-")[1]-1,+this.bookInfo.enableDate.split("-")[2]),console.log(this.bookInfo,"this.bookInfo"),console.log(this.startBookDate,"this.startBookDate"),this.endDate="",this.showPicker=!0},next:function(){this.step=2},close:function(){this.showPicker=!1},onCancel:function(){this.showPicker=!1},onConfirm:function(t){var e=this;this.$nextTick(function(){e.endDate=t,e.$emit("ok",[o()(e.startDate).format(e.format),o()(e.endDate).format(e.format)]),e.showPicker=!1})}}},c=n("W5g0");var l=function(t){n("upiI")},u=Object(c.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-popup",{attrs:{position:"bottom"},model:{value:t.showPicker,callback:function(e){t.showPicker=e},expression:"showPicker"}},[t.showPicker?n("div",[1===t.step?n("div",[n("van-datetime-picker",{attrs:{"min-date":t.startBookDate,"max-date":t.maxDate,formatter:t.formatter,"item-height":t.itemHeight,type:"year-month",title:"选择开始年月","confirm-button-text":"下一步"},on:{cancel:t.onCancel,confirm:t.next},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}})],1):t._e(),t._v(" "),2===t.step?n("div",[n("van-datetime-picker",{attrs:{"min-date":t.startDate,"max-date":t.endMax,formatter:t.formatter,"item-height":t.itemHeight,type:"year-month",title:"选择结束年月"},on:{cancel:t.onCancel,confirm:t.onConfirm},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1):t._e()]):t._e()])},[],!1,l,"data-v-13290164",null);e.a=u.exports}});